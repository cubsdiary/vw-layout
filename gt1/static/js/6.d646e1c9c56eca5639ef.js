webpackJsonp([6],{"0neM":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("4YfN"),i=s.n(r),c=s("QTC7"),n=s("qwAB"),a=s("9rMa"),o={name:"maintain",data:function(){return{checkServer:[]}},computed:i()({allPrice:function(){var e=0;return this.allServerList.forEach(function(t){t.serviceCon.forEach(function(t,s){t.groupItem.isChecked&&(t.subItems.length>0?t.subItems.forEach(function(t,s){t.isChecked&&(e+=t.keepServiceSecondItemBean.minCommodityNumber*t.keepServiceSecondItemBean.commodityPrice)}):e+=t.groupItem.keepServiceFirstItemBean.serverPrice)})}),e},allServerNum:function(){var e=0;return this.allServerList.forEach(function(t){t.serviceCon.forEach(function(t,s){t.groupItem.isChecked&&e++})}),e},checkedServer:function(){var e=[],t=[];return this.allServerList.forEach(function(s,r){var i=[];s.serviceCon.forEach(function(t,s){t.groupItem.isChecked&&(e.push(t),i.push(s))}),t.push({nav:r,subnav:i})}),{servers:e,arr:t}}},Object(a.b)(["allServerList"])),methods:i()({_goBack:function(){this.$router.go(-1)},_addServer:function(){this.allServerNum>0?(this.modifyMyServer(this.checkedServer.servers),this.deleteAllServer(this.checkedServer.arr),this.$router.back()):this.$Toast({message:"请选择新增服务",position:"bottom"})}},Object(a.c)({modifyMyServer:"MODIFY_MY_SERVER",deleteAllServer:"DELETE_ALL_SERVER"})),mounted:function(){},components:{serverModel:c.a,Scroll:n.a}},v={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"add-new-server",attrs:{flexContainer:""}},[s("div",{staticClass:"action-bar"},[s("div",{staticClass:"go-back",on:{click:e._goBack}}),e._v(" "),s("div",{staticClass:"font"},[e._v("\n      添加新服务\n    ")])]),e._v(" "),s("Scroll",{ref:"addservice",staticClass:"container"},[s("div",{staticClass:"wrapper"},e._l(e.allServerList,function(t,r){return s("div",{key:r,staticClass:"service-catalog"},[s("div",{staticClass:"service-title"},[e._v(e._s(t.serviceCatalog))]),e._v(" "),e._l(t.serviceCon,function(e,t){return s("serverModel",{key:t,attrs:{server:e,serverid:t,addServer:!0}})})],2)}))]),e._v(" "),s("div",{staticClass:"place-order"},[s("div",{staticClass:"server"},[e._v("客服")]),e._v(" "),s("div",{staticClass:"tips"},[s("div",{staticClass:"nums"},[e._v("\n        不包含服务费\n      ")]),e._v(" "),s("div",{staticClass:"money"},[s("span",[e._v("共"+e._s(e.allServerNum)+"项服务")]),e._v(" "),s("span",[e._v(e._s("￥"+e.allPrice))])])]),e._v(" "),s("div",{staticClass:"btn",on:{click:e._addServer}},[e._v("添加")])])],1)},staticRenderFns:[]};var d=s("Z0/y")(o,v,!1,function(e){s("vp0u")},"data-v-db7ad622",null);t.default=d.exports},C5Qa:function(e,t){},QTC7:function(e,t,s){"use strict";var r=s("3cXf"),i=s.n(r),c={name:"counter",props:{goodsinfo:{type:Object}},data:function(){return{sssss:null}},methods:{cutNum:function(){this.goodsinfo.keepServiceSecondItemBean.minCommodityNumber<=1?this.goodsinfo.keepServiceSecondItemBean.minCommodityNumber=1:this.goodsinfo.keepServiceSecondItemBean.minCommodityNumber--},addNum:function(){this.goodsinfo.keepServiceSecondItemBean.minCommodityNumber++}},mounted:function(){this.sssss=JSON.parse(sessionStorage.getItem("serverList"))}},n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"counter"},[s("div",{staticClass:"cut",on:{click:e.cutNum}},[e._v("-")]),e._v(" "),s("span",[e._v(e._s(e.goodsinfo.keepServiceSecondItemBean.minCommodityNumber))]),e._v(" "),s("div",{staticClass:"add",on:{click:e.addNum}},[e._v("+")])])},staticRenderFns:[]};var a=s("Z0/y")(c,n,!1,function(e){s("C5Qa")},"data-v-59f9ee63",null).exports,o={name:"serverModel",props:{server:{type:Object},serverid:{type:Number,required:!0},addServer:{type:Boolean,default:!0}},data:function(){return{locationServerList:null}},methods:{_showInfo:function(){this.server.groupItem.action=!this.server.groupItem.action,this.server.groupItem.action?this.server.groupItem.state=2:this.server.groupItem.state=1},_checkGood:function(e){var t=!1;this.server.subItems[e].isChecked=!this.server.subItems[e].isChecked,this.server.subItems.forEach(function(e,s){e.isChecked&&(t=!0)}),this.server.groupItem.isChecked=!!t},_checkServer:function(){this.server.groupItem.isChecked?(this.server.groupItem.isChecked=!1,this.server.subItems.forEach(function(e){e.isChecked=!1})):(this.server.groupItem.isChecked=!0,this.server.subItems.forEach(function(e){e.isChecked=!0}))},_editServer:function(){this.server.groupItem.state=3},_saveServer:function(){this.locationServerList=JSON.parse(sessionStorage.getItem("serverList")),this.server.groupItem.state=2,this.locationServerList[this.serverid]=this.server,sessionStorage.setItem("serverList",i()(this.locationServerList))},_cancelServer:function(){this.locationServerList=JSON.parse(sessionStorage.getItem("serverList")),this.server.groupItem.state=2,this.$set(this.server,"subItems",this.locationServerList[this.serverid].subItems)},_changeGood:function(){}},mounted:function(){this.$nextTick(function(){})},components:{counter:a}},v={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"server-model",attrs:{flexContainer:""}},[s("div",{staticClass:"menu",on:{click:e._showInfo}},[s("div",{staticClass:"check"},[s("div",{staticClass:"btn",class:e.server.groupItem.isChecked?"check":"nocheck",on:{click:function(t){return t.stopPropagation(),e._checkServer(t)}}})]),e._v(" "),s("div",{staticClass:"server-info"},[s("div",{staticClass:"title"},[e._v(e._s(e.server.groupItem.keepServiceFirstItemBean.serviceName)),e.server.groupItem.keepServiceFirstItemBean.isRecommend?s("span",[e._v("推荐")]):e._e()]),e._v(" "),s("div",{staticClass:"tips"},[e._v(e._s(e.server.groupItem.keepServiceFirstItemBean.bottomRemark))])])]),e._v(" "),e.server.groupItem.action?s("ul",{staticClass:"good-list"},e._l(e.server.subItems,function(t,r){return s("li",{key:r},[s("div",{staticClass:"tab-check"},[e.addServer?s("div",{staticClass:"btn",class:t.isChecked?"check":"nocheck",on:{click:function(t){e._checkGood(r)}}}):e._e()]),e._v(" "),e._m(0,!0),e._v(" "),s("div",{staticClass:"good-info"},[2===e.server.groupItem.state?s("div",{staticClass:"change"},[s("div",{staticClass:"parameter"},[s("div",{staticClass:"left"},[s("div",{staticClass:"name"},[e._v("级别： "),s("span",[e._v(e._s(t.keepServiceSecondItemBean.classify))])]),e._v(" "),s("div",{staticClass:"brand"},[e._v("品牌："),s("span",[e._v(e._s(t.keepServiceSecondItemBean.trademark))])])]),e._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"viscosity"},[e._v("粘度："),s("span",[e._v(e._s(t.keepServiceSecondItemBean.viscosity))])]),e._v(" "),s("div",{staticClass:"spec"},[e._v("规格："),s("span",[e._v(e._s(t.keepServiceSecondItemBean.specification))])])])]),e._v(" "),s("div",{staticClass:"tips"},[e._v(e._s(t.keepServiceSecondItemBean.minCommodityNumber)+"辆“思域”选择了此产品")]),e._v(" "),s("div",{staticClass:"buy-info"},[s("span",[e._v("￥"+e._s(t.keepServiceSecondItemBean.commodityPrice))]),e._v(" "),s("span",[e._v("X"+e._s(t.keepServiceSecondItemBean.commodityNumber))])])]):e._e(),e._v(" "),3===e.server.groupItem.state&&e.addServer?s("div",{staticClass:"no-change"},[s("span",[e._v("￥"+e._s(t.keepServiceSecondItemBean.commodityPrice.toFixed(2)))]),e._v(" "),s("div",{staticClass:"input-num"},[s("counter",{attrs:{goodsinfo:t}})],1),e._v(" "),s("div",{staticClass:"change-btn"},[s("div",{staticClass:"btn",on:{click:e._changeGood}},[e._v("更换")])])]):e._e()])])})):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"img"},[t("img",{attrs:{src:"",alt:""}})])}]};var d=s("Z0/y")(o,v,!1,function(e){s("Yq8l")},"data-v-7a273aea",null);t.a=d.exports},Yq8l:function(e,t){},vp0u:function(e,t){}});
//# sourceMappingURL=6.d646e1c9c56eca5639ef.js.map