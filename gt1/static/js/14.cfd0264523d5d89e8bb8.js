webpackJsonp([14],{Ok8H:function(i,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("4YfN"),o=s.n(n),e={name:"my-info-mask",props:{id:{type:Number,default:0},info:{type:String}},data:function(){return{modifyinfo:""}},computed:{showClear:function(){return 0===this.modifyinfo?0:1},showTips:function(){var i="";switch(this.id){case 1:i="请输入昵称  不得含有特殊符号";break;case 2:i="请输入手机号"}return i}},mounted:function(){this.modifyinfo=this.info},methods:{_goBack:function(){this.$emit("closemask",{modify:!1})},_clearInput:function(){this.modifyinfo=""},_inputValue:function(i){if(null===i.data&&this.modifyinfo.length>0)return this.modifyinfo.length-1},_modifySuccess:function(){""!==this.modifyinfo||1!==this.id&&3!==this.id?2!==this.id||/^((13[0-9])|(14[5|7])|(15([0-3]|[5-9]))|(17([0-1,3]|[6-8]))|(18[0-9]))\d{8}$/.test(this.modifyinfo)?this.$emit("closemask",{modify:!0,info:this.modifyinfo}):this.$Toast({message:"手机号码格式错误！",position:"top"}):this.$Toast({message:"信息不能为空！",position:"top"})}}},a={render:function(){var i=this,t=i.$createElement,s=i._self._c||t;return s("transition",{attrs:{name:"showinfo"}},[s("div",{staticClass:"my-info-mask",on:{click:i._goBack}},[s("div",{staticClass:"mask-con",on:{click:function(i){i.preventDefault(),i.stopPropagation()}}},[s("div",{staticClass:"text"},[s("input",{directives:[{name:"model",rawName:"v-model",value:i.modifyinfo,expression:"modifyinfo"}],attrs:{type:"text",name:"",placeholder:"请输入信息"},domProps:{value:i.modifyinfo},on:{input:[function(t){t.target.composing||(i.modifyinfo=t.target.value)},i._inputValue]}}),i._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:i.showClear,expression:"showClear"}],staticClass:"clear",on:{click:i._clearInput}})]),i._v(" "),s("p",{staticClass:"tips"},[i._v("\n        "+i._s(i.showTips)+"\n      ")])]),i._v(" "),s("div",{staticClass:"submit-btn",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),i._modifySuccess(t)}}},[i._v("确认")])])])},staticRenderFns:[]};var c=s("Z0/y")(e,a,!1,function(i){s("kYES")},"data-v-71ed6939",null).exports,f=s("9rMa"),r={name:"myInfo",data:function(){return{modifyInfo:!1,id:0,localId:""}},computed:o()({hidePhone:function(){return this.userInfo.phone.substr(0,3)+"****"+this.userInfo.phone.substr(7)},modifyType:function(){var i="";switch(this.id){case 1:i=this.userInfo.name;break;case 2:i=this.userInfo.phone}return i}},Object(f.b)(["userInfo"])),methods:o()({_goBack:function(){this.$router.go(-1)},_modifyInfo:function(i){this.id=i,this.modifyInfo=!0},_closeMask:function(i){if(this.modifyInfo=!1,i.modify)switch(this.id){case 1:this.setUserInfo({name:i.info});break;case 2:this.userInfo.phone=i.info}},toggleAvatar:function(){var i=this;this.Wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){i.localId=t.localIds[0],window.__wxjs_is_wkwebview?i.Wx.getLocalImgData({localId:i.localId,success:function(t){var s=t.localData;i.localId=s.replace("jgp","jpeg")},fail:function(i){}}):i.localId=t.localIds[0]}})}},Object(f.c)({setUserInfo:"SET_USER_INFO"})),components:{myInfoMask:c}},l={render:function(){var i=this,t=i.$createElement,s=i._self._c||t;return s("div",{staticClass:"my-info",attrs:{flexContainer:""}},[i.modifyInfo?s("myInfoMask",{attrs:{id:i.id,info:i.modifyType},on:{closemask:i._closeMask}}):i._e(),i._v(" "),s("div",{staticClass:"action-bar"},[s("div",{staticClass:"go-back",on:{click:i._goBack}}),i._v(" "),s("div",{staticClass:"font"},[i._v("个人资料")])]),i._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"my_avatar"},[s("div",{staticClass:"avatar"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i.localId,expression:"localId"}],attrs:{alt:""}})]),i._v(" "),s("div",{staticClass:"title",on:{click:i.toggleAvatar}},[i._v("\n        更换头像\n      ")])]),i._v(" "),s("div",{staticClass:"my_nickname"},[s("span",[i._v("昵称")]),i._v(" "),s("div",{staticClass:"nickname",on:{click:function(t){i._modifyInfo(1)}}},[i._v("\n        "+i._s(i.userInfo.name?i.userInfo.name:"请输入昵称")+"\n      ")])]),i._v(" "),s("div",{staticClass:"my_phone"},[s("span",[i._v("手机号")]),i._v(" "),s("div",{staticClass:"phone"},[i._v("\n        "+i._s(i.hidePhone)+"\n      ")])])])],1)},staticRenderFns:[]};var d=s("Z0/y")(r,l,!1,function(i){s("xTrP")},"data-v-34412741",null);t.default=d.exports},kYES:function(i,t){},xTrP:function(i,t){}});
//# sourceMappingURL=14.cfd0264523d5d89e8bb8.js.map