webpackJsonp([14],{"9CpQ":function(a,t){},IN08:function(a,t){},t9rS:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=e("Dd8w"),i=e.n(s),r=e("NYxO"),n={name:"seleArea",props:{areaindex:{type:Number}},data:function(){return{active:this.areaindex}},methods:{seleAreaBtn:function(a){this.active=a,this.goBack()},goBack:function(){this.$emit("goback",this.active)}},computed:i()({},Object(r.c)(["area"]))},c={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"sele-area",on:{click:function(a){a.preventDefault()}}},[e("div",{staticClass:"container"},a._l(a.area,function(t,s){return e("div",{key:s,staticClass:"area",class:{active:s===a.active},on:{click:function(t){a.seleAreaBtn(s)}}},[a._v("\n      "+a._s(t)+"\n    ")])}))])},staticRenderFns:[]};var o=e("VU/8")(n,c,!1,function(a){e("9CpQ")},"data-v-4f7e4bb7",null).exports,d=e("F4+m"),l=e("bk5W"),h=e("fjIZ"),u={name:"addcarIdcard",mixins:[d.a],data:function(){return{showAreaBtn:!1,areaIndex:0,carid:null,way:null,tempInfo:{},isFinish:!1,datePickerShow:!1}},computed:i()({tempToDate:function(){return this.tempInfo.temp?Object(h.d)(parseInt(this.tempInfo.temp)):"请填写驾驶证上的真实注册日期"}},Object(r.c)(["addCar","area","myCar","userInfo"])),methods:i()({validateCarid:function(){this.carid=this.carid.toUpperCase();/^[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$/.test(this.carid)||(this.$Toast({position:"bottom",message:"车牌号码格式错误"}),this.carid="")},validateWay:function(){isNaN(parseFloat(this.way))?(this.$Toast({position:"bottom",message:"行驶里程格式错误"}),this.way=null):this.way=parseFloat(this.way)},goSeleArea:function(){this.showAreaBtn=!0},getBackInfo:function(a){this.areaIndex=a,this.showAreaBtn=!1},_goBack:function(){this.$router.go(-1)},closePicker:function(a){this.datePickerShow=!1;var t=Object(h.a)(),e=Object(h.e)(t.nowYear,t.nowMonth,t.nowDay);a.temp<e&&(this.tempInfo=a)},_addCar:function(){null===this.carid?this.$Toast({message:"请补全必填信息",position:"bottom"}):this._lookMyCar()},_lookMyCar:function(){var a=this;this.$get(this.f6Url+"/api/clientUserCar?userId="+this.userInfo.fUserId,this.headers_2,function(t){401===t.code?a.refreshToken(a._getMyCar):200===t.code&&a._setMyCar(t.data.length>0?0:1)})},_setMyCar:function(a){var t=this,e=this.tempInfo.temp?this.tempInfo.temp:"-1";this.$f6post(this.f6Url+"/api/clientUserCar",this.headers_3,function(a){401===a.code?t.refreshToken(t._setMyCar):200===a.code&&(t.$router.push("/garage"),t.setAddCar({}))},{carBrandLogo:this.addCar.exhaustVolume+"ꡖ"+this.addCar.manufacturerName+"ꡖ"+this.addCar.year+"ꡖ"+e+"ꡖ"+this.addCar.evehicleSystem+"ꡖ"+this.addCar.transmissionDesc+"ꡖ"+this.addCar.brandName+"ꡖ"+this.addCar.imageSrc,carId:this.addCar.mid,carNumber:""+this.area[this.areaIndex]+this.carid,carVin:"",clientAppId:this.userInfo.appId,clientUserId:this.userInfo.fUserId,defaultFlag:a,distance:this.way?this.way:0,externalUserId:this.userInfo.externalUserId,userId:this.userInfo.fUserId})}},Object(r.d)({setAddCar:"SET_ADDCAR"})),beforeDestory:function(){console.log(this.isFinish,"---over"),this.isFinish},components:{seleArea:o,datePickerMask:l.a}},v={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"addcar-idcard",attrs:{flexContainer:""}},[a.showAreaBtn?e("seleArea",{attrs:{areaindex:a.areaIndex},on:{goback:a.getBackInfo}}):a._e(),a._v(" "),e("div",{staticClass:"action-bar"},[e("div",{staticClass:"go-back",on:{click:a._goBack}}),a._v(" "),e("div",{staticClass:"tabbar"},[a._v("\n      添加车辆\n    ")])]),a._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"car-name"},[e("img",{attrs:{src:a.carLogoUrl+a.addCar.imageSrc,alt:""}}),a._v(" "),e("h2",[e("span",[a._v(a._s(a.addCar.brandName+" - "+a.addCar.evehicleSystem+" - "+a.addCar.exhaustVolume+" - "+a.addCar.year+" - "+a.addCar.transmissionDesc))])])]),a._v(" "),e("div",{staticClass:"idcard"},[e("span",[a._v("车牌号")]),a._v(" "),e("div",{staticClass:"idcard-area",on:{click:a.goSeleArea}},[a._v("\n        "+a._s(a.area[a.areaIndex])+"\n      ")]),a._v(" "),e("div",{staticClass:"idcard-num"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:a.carid,expression:"carid",modifiers:{trim:!0}}],attrs:{type:"text",maxlength:"6",placeholder:"A88888"},domProps:{value:a.carid},on:{change:a.validateCarid,input:function(t){t.target.composing||(a.carid=t.target.value.trim())},blur:function(t){a.$forceUpdate()}}})])]),a._v(" "),e("p",[a._v("请输入真实车牌 以便后续服务")]),a._v(" "),e("h2",[a._v("其他信息（选填）")]),a._v(" "),e("div",{staticClass:"car-way"},[e("span",[a._v("行驶里程")]),a._v(" "),e("div",{staticClass:"input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.way,expression:"way"}],attrs:{type:"text",placeholder:0},domProps:{value:a.way},on:{change:a.validateWay,input:function(t){t.target.composing||(a.way=t.target.value)}}})]),a._v(" "),e("span",[a._v("km")])]),a._v(" "),e("div",{staticClass:"car-date"},[e("span",[a._v("注册日期")]),a._v(" "),e("div",{staticClass:"btn",on:{click:function(t){a.datePickerShow=!0}}},[a._v(a._s(a.tempToDate))])])]),a._v(" "),e("div",{staticClass:"addcar-btn",on:{click:a._addCar}},[e("span",[a._v("确认添加")])]),a._v(" "),a.datePickerShow?e("datePickerMask",{on:{close:a.closePicker}}):a._e()],1)},staticRenderFns:[]};var m=e("VU/8")(u,v,!1,function(a){e("IN08")},"data-v-579a1a1b",null);t.default=m.exports}});