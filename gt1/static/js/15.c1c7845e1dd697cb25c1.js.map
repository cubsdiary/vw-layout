{"version":3,"sources":["webpack:///src/components/search/search-list.vue","webpack:///./src/components/search/search-list.vue?7da0","webpack:///./src/components/search/search-list.vue"],"names":["search_list","format","init","computed","extends_default","store","city","brand","methods","serachVal","str","_this","this","_this2","back","storeList","cityList","carBrand","item","cityName","searchBtn","index","Scroll","scroll_scroll","search_search_list","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","flexContainer","on","click","_goBack","_v","directives","name","rawName","value","expression","type","placeholder","maxlength","domProps","input","$event","target","composing","searchList","length","clearSearchVal","_l","key","searchHisVal","_s","delHis","seleItem","src","carLogoUrl","imageSrc","alt","innerHTML","spanname","spanaddress","way","toFixed","spancityName","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/15.c1c7845e1dd697cb25c1.js","sourcesContent":["\n<template>\n  <div class=\"add-car-sharing\" flexContainer>\n    <div class=\"action-bar\">\n      <div class=\"go-back\" @click=\"_goBack\"></div>\n      <div class=\"serach-input\">\n        <input type=\"text\" v-model=\"serachVal\" placeholder=\"搜索门店\" @input=\"searchList\" maxlength=\"12\">\n        <div class=\"close-btn\" v-show=\"serachVal.length > 0\" @click=\"clearSearchVal\"></div>\n      </div>\n      <div class=\"search\" @click=\"searchBtn\">搜索</div>\n    </div>\n    <Scroll class=\"list\">\n      <div class=\"his-list\" v-if=\"serachVal.length < 1\">\n        <ul>\n          <li v-for=\"(item, index) in history\" :key=\"index\">\n            <div class=\"info\" @click=\"searchHisVal(item)\">{{item}}</div>\n            <div class=\"btn\" @click=\"delHis(index)\"></div>\n          </li>\n        </ul>\n      </div>\n      <div class=\"list-con\" v-else>\n        <ul class=\"brand-list\" v-if=\"format === 'brand'\">\n          <li  class=\"list-info\" v-for=\"(item, index) in showList\" :key=\"index\" @click=\"seleItem(item)\">\n            <div class=\"img\">\n              <img :src=\"carLogoUrl + item.imageSrc\" alt=\"\">\n            </div>\n            <div class=\"list-title\" v-html=\"item.spanname\"></div>\n          </li>\n        </ul>\n        <ul class=\"store-list\" v-else-if=\"format === 'store'\">\n          <li  v-for=\"(item, index) in showList\" :key=\"index\" @click=\"seleItem(item)\">\n            <div class=\"left\">\n              <h2 v-html=\"item.spanname\"></h2>\n              <p v-html=\"item.spanaddress\"></p>\n            </div>\n            <div class=\"right\">\n              {{(item.way / 1000).toFixed(2)}}km\n            </div>\n          </li>\n        </ul>\n        <ul class=\"city-list\" v-for=\"(item, index) in showList\" :key=\"index\"  v-else-if=\"format === 'city'\">\n          <li class=\"list-info\" v-html=\"item.spancityName\" @click=\"seleItem(item)\">\n          </li>\n        </ul>\n      </div>\n    </Scroll>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\nimport Scroll from '@/base/scroll/scroll'\nimport {mapGetters, mapMutations} from 'vuex'\nexport default {\n  name: 'searchCity',\n  data () {\n    return {\n      format: '',\n      serachVal: '',\n      lists: [],\n      showList: []\n    }\n  },\n  created () {\n    this.format = this.$route.query.format\n    this.init()\n  },\n  computed: {\n    history () {\n      if (this.format === 'store') {\n        return this.serachHis.store\n      } else if (this.format === 'city') {\n        return this.serachHis.city\n      } else if (this.format === 'brand') {\n        return this.serachHis.brand\n      }\n    },\n    ...mapGetters([\n      'cityList',\n      'carBrand',\n      'storeList',\n      'serachHis'\n    ])\n  },\n  methods: {\n    searchList (e, his) {\n      let str = `${e.data ? e.data : this.serachVal}`\n      this.serachModel(str)\n    },\n    serachModel (str) {\n      let reg = RegExp(str)\n      if (!this.serachVal) {\n        this.showList = []\n        return\n      }\n      this.showList = []\n      if (this.format === 'store') {\n        this.lists.forEach((store) => {\n          if (reg.test(store.name) || reg.test(store.address)) {\n            this.showList.push(Object.assign(store, {\n              spanname: store.name.replace(reg, `<span class=\"red\">${str}</span>`),\n              spanaddress: store.address.replace(reg, `<span class=\"red\">${str}</span>`)\n            }))\n          }\n        })\n      } else if (this.format === 'city') {\n        this.lists.forEach((city) => {\n          if (reg.test(city.cityName)) {\n            this.showList.push(Object.assign(city, {\n              spancityName: city.cityName.replace(reg, `<span class=\"red\">${str}</span>`)\n            }))\n          }\n        })\n      } else if (this.format === 'brand') {\n        this.lists.forEach((brand) => {\n          if (reg.test(brand.name)) {\n            this.showList.push(Object.assign(brand, {\n              spanname: brand.name.replace(reg, `<span class=\"red\">${str}</span>`)\n            }))\n          }\n        })\n      }\n    },\n    searchBtn () {\n      let flag = true\n      this.serachHis[this.format].forEach((item) => {\n        if (item === this.serachVal) {\n          flag = false\n        }\n      })\n      if (flag && this.serachVal.length > 0) {\n        this.setSerachHis({\n          type: this.format,\n          search: this.serachVal\n        })\n      }\n    },\n    _goBack () {\n      this.$router.back()\n    },\n    clearSearchVal () {\n      this.serachVal = ''\n      this.showList = []\n    },\n    init () {\n      if (this.format === 'store') {\n        this.lists = this.storeList\n      } else if (this.format === 'city') {\n        this.lists = this.cityList\n      } else if (this.format === 'brand') {\n        this.lists = this.carBrand\n      }\n    },\n    seleItem (item) {\n      this.setSerachInfo(item)\n      if (this.format === 'store') {\n        this.$router.push('/washcar?type=serach')\n      } else if (this.format === 'city') {\n        this.modifyCityInfo({\n          selecity: item.cityName\n        })\n        this.$router.push('/home')\n      } else if (this.format === 'brand') {\n        this.$router.push('/addcar-tabbar?type=' + 'sele')\n      }\n      this.searchBtn()\n    },\n    delHis (index) {\n      this.deleteSerachHis({\n        type: this.format,\n        index: index\n      })\n    },\n    searchHisVal (item) {\n      this.serachVal = item\n      this.serachModel(item)\n    },\n    ...mapMutations({\n      modifyCityInfo: 'MODIFY_CITYINFO',\n      setSerachHis: 'SET_SERACHHIS',\n      setSerachInfo: 'SET_SERACHINFO',\n      deleteSerachHis: 'DELETE_SERACHHIS'\n    })\n  },\n  components: {\n    Scroll\n  }\n}\n</script>\n\n<style lang=\"stylus\" ref=\"stylesheet/stylus\">\n  .red\n    color: #ff7373\n</style>\n<style scoped lang=\"stylus\" ref=\"stylesheet/stylus\">\n@import \"../../common/stylus/mixin.styl\"\n.add-car-sharing\n  background-color: #f4f4f4\n  flex-direction: column\n  height: 100vh\n  .action-bar\n    position: relative\n    display: flex\n    height: 88px\n    background-color: #fff\n    margin-bottom: 10px\n    z-index: 100\n    .serach-input\n      position: relative\n      flex: 1\n      display: flex\n      flex-direction: column\n      justify-content: center\n      align-items: center\n      input\n        width: 100%\n        height: 60px\n        padding: 0 20px\n        border: 1px solid #cfcfcf\n        background-color: #f2f2f2\n        border-radius: 8px\n        overflow: hidden\n        outline: none\n        &::-webkit-input-placeholder\n          font-size: 26px\n          color: #bbbbbb\n      .close-btn\n        position: absolute\n        right: 0\n        top: 14px\n        width: 60px\n        height: 60px\n        bg-image('../../common/imgs/mind/search_close')\n        background-repeat: no-repeat\n        background-position: center center\n        background-size: 30px 30px\n    .go-back\n      width: 100px\n      height: 88px\n      bg-image('../../common/imgs/order/back')\n      background-repeat: no-repeat\n      background-position: 30px center\n      background-size: 18px 30px\n    .search\n      width: 100px\n      padding-right: 30px\n      display: flex\n      justify-content: flex-end\n      align-items: center\n      font-size: 24px\n      color: #ff7937\n  .list\n    flex: 1\n    overflow: hidden\n    .his-list\n      position: relative\n      ul\n        li\n          display: flex\n          height: 90px\n          line-height: 90px\n          margin-bottom: 1px\n          background-color: #fff\n          font-size: 26px\n          color: #999\n          bg-image('../../common/imgs/washcar/history')\n          background-repeat: no-repeat\n          background-position: 30px center\n          background-size: 30px 30px\n          padding-left: 80px\n          .info\n            flex: 1\n          .btn\n            width: 80px\n            bg-image('../../common/imgs/washcar/close')\n            background-repeat: no-repeat\n            background-position: center center\n            background-size: 20px 20px\n    .list-con\n      position: relative\n      .brand-list\n        overflow: hidden\n        .list-info\n          height: 90px\n          display: flex\n          background-color: #fff\n          padding: 0 30px\n          margin-bottom: 1px\n        .img\n          width: 60px\n          display: flex\n          align-items: center\n          img\n            display: inline-block\n            width: 60px\n            height: 60px\n            background-color: #ccc\n        .list-title\n          flex: 1\n          font-size: 24px\n          color: #666666\n          line-height: 90px\n          padding-left: 20px\n        .btn\n          width: 80px\n          display: flex\n          align-items: center\n          .add\n            flex: 1\n            height: 44px\n            border: 1px solid #ff7646\n            font-size: 24px\n            color: #ff7646\n            text-align: center\n            line-height: 44px\n            border-radius: 3px\n      .store-list\n        overflow: hidden\n        li\n          display: flex\n          margin-top: 8px\n          background-color: #fff\n          padding: 0 30px\n          height: 136px\n          .left\n            flex: 1\n            display: flex\n            flex-direction: column\n            // align-items: center\n            justify-content: center\n            h2\n              line-height: 50px\n              font-weight: bold\n              font-size: 26px\n              color: #666666\n            p\n              line-height: 30px\n              font-size: 24px\n              color: #999\n            span\n              color: #ff7373\n          .right\n            line-height: 136px\n            font-size: 24px\n            color: #bbbbbb\n      .city-list\n        overflow: hidden\n        .list-info\n          height: 90px\n          padding: 0 30px\n          line-height: 90px\n          margin-bottom: 1px\n          background-color: #fff\n          font-size: 26px\n          color: #999\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/search/search-list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add-car-sharing\",attrs:{\"flexContainer\":\"\"}},[_c('div',{staticClass:\"action-bar\"},[_c('div',{staticClass:\"go-back\",on:{\"click\":_vm._goBack}}),_vm._v(\" \"),_c('div',{staticClass:\"serach-input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.serachVal),expression:\"serachVal\"}],attrs:{\"type\":\"text\",\"placeholder\":\"搜索门店\",\"maxlength\":\"12\"},domProps:{\"value\":(_vm.serachVal)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.serachVal=$event.target.value},_vm.searchList]}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.serachVal.length > 0),expression:\"serachVal.length > 0\"}],staticClass:\"close-btn\",on:{\"click\":_vm.clearSearchVal}})]),_vm._v(\" \"),_c('div',{staticClass:\"search\",on:{\"click\":_vm.searchBtn}},[_vm._v(\"搜索\")])]),_vm._v(\" \"),_c('Scroll',{staticClass:\"list\"},[(_vm.serachVal.length < 1)?_c('div',{staticClass:\"his-list\"},[_c('ul',_vm._l((_vm.history),function(item,index){return _c('li',{key:index},[_c('div',{staticClass:\"info\",on:{\"click\":function($event){_vm.searchHisVal(item)}}},[_vm._v(_vm._s(item))]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.delHis(index)}}})])}))]):_c('div',{staticClass:\"list-con\"},[(_vm.format === 'brand')?_c('ul',{staticClass:\"brand-list\"},_vm._l((_vm.showList),function(item,index){return _c('li',{key:index,staticClass:\"list-info\",on:{\"click\":function($event){_vm.seleItem(item)}}},[_c('div',{staticClass:\"img\"},[_c('img',{attrs:{\"src\":_vm.carLogoUrl + item.imageSrc,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"list-title\",domProps:{\"innerHTML\":_vm._s(item.spanname)}})])})):(_vm.format === 'store')?_c('ul',{staticClass:\"store-list\"},_vm._l((_vm.showList),function(item,index){return _c('li',{key:index,on:{\"click\":function($event){_vm.seleItem(item)}}},[_c('div',{staticClass:\"left\"},[_c('h2',{domProps:{\"innerHTML\":_vm._s(item.spanname)}}),_vm._v(\" \"),_c('p',{domProps:{\"innerHTML\":_vm._s(item.spanaddress)}})]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_vm._v(\"\\n            \"+_vm._s((item.way / 1000).toFixed(2))+\"km\\n          \")])])})):(_vm.format === 'city')?_vm._l((_vm.showList),function(item,index){return _c('ul',{key:index,staticClass:\"city-list\"},[_c('li',{staticClass:\"list-info\",domProps:{\"innerHTML\":_vm._s(item.spancityName)},on:{\"click\":function($event){_vm.seleItem(item)}}})])}):_vm._e()],2)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-254c37c6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/search/search-list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"importLoaders\\\":1,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-254c37c6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./search-list.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"importLoaders\\\":1,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-254c37c6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./search-list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./search-list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./search-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-254c37c6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./search-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-254c37c6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/search/search-list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}