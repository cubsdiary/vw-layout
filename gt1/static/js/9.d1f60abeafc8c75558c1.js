webpackJsonp([9],{dm8s:function(t,e){},g6Fe:function(t,e){},hnif:function(t,e,s){"use strict";var a=s("3cXf"),i=s.n(a),n=s("4YfN"),r=s.n(n),o=s("9rMa"),c={name:"store-info",data:function(){return{}},computed:r()({storeInfo:function(){var t=this,e={};return this.storeList.forEach(function(s,a){a===t.defaultStoreId&&(e=s)}),"{}"===i()(e)?{}:e}},Object(o.b)(["defaultStoreId","cityInfo","storeList"])),methods:{goStoreList:function(){this.$router.push("/store-list")}},created:function(){}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"store-info"},[s("div",{staticClass:"top"},[s("div",{staticClass:"left"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"https://www.gt1.shop/api/common/download?id="+t.storeInfo.img,expression:"'https://www.gt1.shop/api/common/download?id=' + storeInfo.img"}],attrs:{alt:""}})]),t._v(" "),s("div",{staticClass:"center"},[s("h2",[t._v(t._s(t.storeInfo.name))]),t._v(" "),s("p",[t._v(t._s(t.storeInfo.address))])]),t._v(" "),s("div",{staticClass:"right",on:{click:t.goStoreList}},[s("span",[t._v("选择门店")])])]),t._v(" "),s("div",{staticClass:"bottom"},[s("span",[t._v("联系店长")]),t._v(" "),s("a",{attrs:{href:"tel:"+t.storeInfo.phone}},[t._v(t._s(t.storeInfo.phone))])])])},staticRenderFns:[]};var l=s("Z0/y")(c,d,!1,function(t){s("g6Fe")},"data-v-32722e0a",null);e.a=l.exports},hwK1:function(t,e){},zBFL:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("4YfN"),i=s.n(a),n=s("qwAB"),r=s("hnif"),o=s("9rMa"),c={name:"keepFitTime",data:function(){return{today:!0,bespeakTime:{today:[{state:1,date:"8:30"},{state:1,date:"9:00"},{state:2,date:"9:30"},{state:1,date:"10:00"},{state:1,date:"10:30"},{state:2,date:"11:00"},{state:1,date:"11:30"},{state:1,date:"13:30"},{state:1,date:"14:00"},{state:1,date:"14:30"},{state:2,date:"15:00"},{state:1,date:"15:30"},{state:1,date:"16:00"},{state:1,date:"16:30"},{state:1,date:"17:00"}],tomorrow:[{state:1,date:"8:30"},{state:1,date:"9:00"},{state:1,date:"9:30"},{state:1,date:"10:00"},{state:1,date:"10:30"},{state:1,date:"11:00"},{state:2,date:"11:30"},{state:1,date:"13:30"},{state:1,date:"14:00"},{state:1,date:"14:30"},{state:1,date:"15:00"},{state:2,date:"15:30"},{state:1,date:"16:00"},{state:2,date:"16:30"},{state:1,date:"17:00"}]},nowHour:0,nowMinute:0,amIndex:0,seleIndex:{today:-1,tomorrow:-1}}},computed:{getAmList:function(){var t=this,e=this;e.amIndex=0;var s=[],a=[];if(this.today){var i=[];this.bespeakTime.today.forEach(function(n,r){var o=n.date.split(":"),c=parseInt(o[1]),d=parseInt(o[0]);t.nowHour>d?n.state=2:t.nowHour===d&&t.nowMinute>=c?n.state=2:n.state=1,1===n.state&&i.push(r),d<13?(e.amIndex++,s.push(n)):a.push(n)}),this.bespeakTime.today.forEach(function(t,s){e.seleIndex.today<0&&s===i[0]?t.state=3:e.seleIndex.today===s&&(t.state=3)})}else{var n=[];this.bespeakTime.tomorrow.forEach(function(t,i){var r=t.date.split(":"),o=parseInt(r[0]);2!==t.state&&(t.state=1),1===t.state&&n.push(i),o<13?(e.amIndex++,s.push(t)):a.push(t)}),this.bespeakTime.tomorrow.forEach(function(t,s){e.seleIndex.tomorrow<0&&s===n[0]?t.state=3:e.seleIndex.tomorrow===s&&(t.state=3)})}return{am:s,pm:a}}},methods:{isToday:function(){this.today=!this.today},closeMask:function(){this.$emit("close",{close:!1,time:0})},seleTime:function(t,e,s){var a=this;this.today?this.bespeakTime.today.forEach(function(i,n){2!==i.state&&(i.state=1),"am"===s&&2!==t.state?a.seleIndex.today=e:"pm"===s&&2!==t.state&&(a.seleIndex.today=e+a.amIndex)}):this.bespeakTime.tomorrow.forEach(function(i,n){2!==i.state&&(i.state=1),"am"===s&&2!==t.state?a.seleIndex.tomorrow=e:"pm"===s&&2!==t.state&&(a.seleIndex.tomorrow=e+a.amIndex)})},seleSuccess:function(){var t={};this.today?this.bespeakTime.today.forEach(function(e,s){3===e.state&&(t=e)}):this.bespeakTime.tomorrow.forEach(function(e,s){3===e.state&&(t=e)}),this.$emit("close",{close:!1,today:this.today,time:t.date})}},created:function(){var t=new Date;this.nowHour=t.getHours(),this.nowMinute=t.getMinutes()}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[s("div",{staticClass:"mask-time"},[s("div",{staticClass:"hide"},[s("div",{staticClass:"close",on:{click:t.closeMask}})]),t._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"tabbar"},[s("div",{staticClass:"today",class:t.today?"":"active",on:{click:t.isToday}},[t._v("\n          今天\n        ")]),t._v(" "),s("div",{staticClass:"tomorrow",class:t.today?"active":"",on:{click:t.isToday}},[t._v("\n          明天\n        ")])]),t._v(" "),s("div",{staticClass:"title"},[s("span",{staticClass:"bor"}),s("span",{staticClass:"txt"},[t._v("上午")]),s("span",{staticClass:"bor"})]),t._v(" "),s("ul",{staticClass:"time-list"},t._l(t.getAmList.am,function(e,a){return s("li",{key:a,class:"active-"+e.state,on:{click:function(s){t.seleTime(e,a,"am")}}},[t._v(t._s(e.date))])})),t._v(" "),s("div",{staticClass:"title"},[s("span",{staticClass:"bor"}),s("span",{staticClass:"txt"},[t._v("下午")]),s("span",{staticClass:"bor"})]),t._v(" "),s("ul",{staticClass:"time-list"},t._l(t.getAmList.pm,function(e,a){return s("li",{key:a,class:"active-"+e.state,on:{click:function(s){t.seleTime(e,a,"pm")}}},[t._v(t._s(e.date))])}))]),t._v(" "),s("div",{staticClass:"btn",on:{click:t.seleSuccess}},[t._v("确认")])])])},staticRenderFns:[]};var l=s("Z0/y")(c,d,!1,function(t){s("hwK1")},"data-v-6a796574",null).exports,v={name:"maintain-pre",data:function(){return{repairPreOrderBScroll:null,imgs:[0,1,2,3],fitTime:!1}},computed:i()({fillImgs:function(){return this.imgs.length>4?this.imgs.slice(0,4):this.imgs},carInfo:function(){return this.myCar[0].name+this.myCar[0].salesVersion},getServerSum:function(){var t=0,e=0,s=0,a=[];return this.serverList.forEach(function(i){i.groupItem.isChecked&&(e++,i.subItems.length>0?i.subItems.forEach(function(e,i){e.isChecked&&(t+=e.keepServiceSecondItemBean.minCommodityNumber*e.keepServiceSecondItemBean.commodityPrice,s+=e.keepServiceSecondItemBean.minCommodityNumber,a.push(e.keepServiceSecondItemBean.commodityImageUrl))}):t+=i.groupItem.keepServiceFirstItemBean.serverPrice)}),{price:t,server:e,num:s,imgs:a}}},Object(o.b)(["myCar","maintainOrder","serverList","storeList","defaultStoreId","userInfo"])),methods:i()({_goBack:function(){this.$router.go(-1)},dateTime:function(t){return t.time?(t.today?"今":"明")+"天  "+t.time:"未选择预约时间"},_goPreOrder:function(){if(this.maintainOrder.time){this.setMaintainOrder({store:this.storeList[this.defaultStoreId]}),this.setMyServer(),this.setAllServer(),this.$router.push("/reservations?type=by")}else this.$Toast({message:"请选择预约时间",position:"bottom"})},showFitTime:function(){this.fitTime=!0},closeMask:function(t){0!==t.time&&t.time&&this.setMaintainOrder(t),this.fitTime=!1}},Object(o.c)({setMaintainOrder:"SET_MAINTAIN_ORDER",setMyServer:"SET_MY_SERVER",setAllServer:"SET_ALL_SERVER"})),components:{storeInfo:r.a,Scroll:n.a,keepFitTime:l}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"maintain-pre",attrs:{flexContainer:""}},[s("div",{staticClass:"action-bar"},[s("div",{staticClass:"go-back",on:{click:t._goBack}}),t._v(" "),s("div",{staticClass:"font"},[t._v("\n      订单详情\n    ")])]),t._v(" "),t._m(0),t._v(" "),s("Scroll",{ref:"repairPre",staticClass:"container"},[s("div",{staticClass:"wrapper"},[s("storeInfo"),t._v(" "),s("div",{staticClass:"bespoke-date"},[s("span",[t._v("预约时间")]),t._v(" "),s("span",{on:{click:t.showFitTime}},[t._v(t._s(t.dateTime(t.maintainOrder)))])]),t._v(" "),s("div",{staticClass:"car-info"},[s("div",[s("span",[t._v("服务车辆")]),s("div",{staticClass:"right"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.carLogoUrl+t.myCar[0].imageSrc,expression:"carLogoUrl + myCar[0].imageSrc"}],attrs:{alt:""}}),t._v(t._s(t.carInfo))])]),t._v(" "),s("div",[s("span",[t._v("车牌号")]),s("span",{staticClass:"right"},[t._v(t._s(t.myCar[0].idCard))])]),t._v(" "),s("div",[s("span",[t._v("联系人")]),s("span",{staticClass:"right"},[t._v(t._s(t.userInfo.phone))])])]),t._v(" "),s("div",{staticClass:"server-img"},[s("div",{staticClass:"con"},[s("ul",[t._l(t.getServerSum.imgs,function(e,a){return a<2?s("li",{key:a,staticClass:"imgs"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy"}],attrs:{alt:""}})]):t._e()}),t._v(" "),t.getServerSum.num>2?s("li",{staticClass:"eiss"}):t._e()],2),t._v(" "),s("div",{staticClass:"goods-info"},[s("span",[t._v("共"+t._s(t.getServerSum.num)+"个配件、"+t._s(t.getServerSum.server)+"个服务")]),t._v(" "),s("div",[t._v("配件总额："),s("span",[t._v(t._s("￥"+t.getServerSum.price))])])])])])],1)]),t._v(" "),s("div",{staticClass:"place-order"},[s("div",{staticClass:"server"},[t._v("客服")]),t._v(" "),s("div",{staticClass:"tips"},[t._v("预约不会产生任何费用 具体情况请到店后有技师介绍")]),t._v(" "),s("div",{staticClass:"btn",on:{click:t._goPreOrder}},[t._v("确认下单")])]),t._v(" "),t.fitTime?s("keepFitTime",{on:{close:t.closeMask}}):t._e()],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"service-flow"},[s("span",{staticClass:"bg bg1"},[t._v("选择服务")]),t._v(" "),s("span",[t._v("-")]),t._v(" "),s("span",{staticClass:"bg bg2"},[t._v("选择门店")]),t._v(" "),s("span",[t._v("-")]),t._v(" "),s("span",{staticClass:"bg bg3"},[t._v("确认订单")]),t._v(" "),s("span",[t._v("-")]),t._v(" "),s("span",{staticClass:"bg bg4"},[t._v("到店服务")])])}]};var u=s("Z0/y")(v,m,!1,function(t){s("dm8s")},"data-v-5f9106d5",null);e.default=u.exports}});
//# sourceMappingURL=9.d1f60abeafc8c75558c1.js.map