webpackJsonp([16],{"77zG":function(t,a){},LkVm:function(t,a){},gF1Q:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=i("+aT9"),n=i.n(e),s={data:function(){return{map:null,geolocation:null,customMarker:null,toolBar:null,my_position:{},showMap:!1,markerDom:[],preMarkerId:-1,infoWindow:null,markers:[{lng:119.981649,lat:31.826587,new:!0,state:1,title:"新北中心公园",icon:"./static/active_by_store@2x.png"},{lng:120.004995,lat:31.791868,new:!1,state:1,title:"紫荆公园",icon:"./static/active_by_store@2x.png"},{lng:120.000531,lat:31.823816,new:!1,state:2,title:"中华恐龙园",icon:"./static/active_by_store@2x.png"}]}},methods:{_goBack:function(){this.$router.go(-1)},_setMap:function(){this.map=new n.a.Map(this.$refs.container,{resizeEnable:!0,layers:[new n.a.TileLayer],zoom:13})},_onComplete:function(t){this.my_position=t.position,this.showMap||(this.showMap=!0,this.customMarker=new n.a.Marker({map:this.map,position:[this.my_position.lng,this.my_position.lat],offset:new n.a.Pixel(-11,-34),icon:new n.a.Icon({image:"./static/own_marker@2x.png",size:new n.a.Size(22,34)})}))},_onError:function(t){console.log(t)},_onClick:function(t){var a=this.preMarkerId;-1!==a&&(this.markerDom[a].setMap(null),this._setMarker(this.markers[a],a));var i=t.target.getExtData();this.markerDom[i].setMap(null),this.markerDom[i]=new n.a.Marker({map:this.map,offset:new n.a.Pixel(-22,-22),position:[this.markers[i].lng,this.markers[i].lat],icon:new n.a.Icon({image:this.markers[i].icon,size:new n.a.Size(44,44)}),extData:i,clickable:!0}),console.log(this.markers[i]),this.map.setCenter([this.markers[i].lng,this.markers[i].lat]),this.preMarkerId=i,this._setInfoWindow(this.markers[i])},_getLocation:function(){var t=this;this.map.plugin("AMap.Geolocation",function(){t.geolocation=new n.a.Geolocation({enableHighAccuracy:!0,timeout:1e3,maximumAge:0,convert:!0,showButton:!1,showMarker:!1,showCircle:!1,panToLocation:!0,zoomToAccuracy:!1}),t.map.addControl(t.geolocation),t.geolocation.getCurrentPosition(),n.a.event.addListener(t.geolocation,"complete",t._onComplete),n.a.event.addListener(t.geolocation,"error",t._onError)})},_getMarker:function(){var t=this;this.markers.forEach(function(a,i){t._setMarker(a,i)})},_setMarker:function(t,a){this.markerDom[a]=new n.a.Marker({map:this.map,offset:new n.a.Pixel(-17,-17),position:[t.lng,t.lat],content:'<div class="marker-com bg1">\n                    <div class="new '+(t.new?"":"show")+'" >NEW</div>\n                    <div class="marker-txt">\n                      <span>'+t.title+'</span>\n                      <div class="state bg'+t.state+'">'+(1===t.state?"空闲":"繁忙")+"</div>\n                    </div>\n                  </div>",extData:a,clickable:!0}),this.markerDom[a].on("click",this._onClick)},_setInfoWindow:function(t){this.infoWindow=new n.a.InfoWindow({isCustom:!0,offset:new n.a.Pixel(0,-34),content:'<div class="window-info">\n                    <div class="left">\n                      <h2>奇特异快速保养-丽华店addads</h2>\n                      <p>常州市丽华南村XX街XX路X号奇特异快速保养-丽华店</p>\n                    </div>\n                    <div class="right"><h2>4.2km</h2><span>距您最近</span></div>\n                    <div class="state bg1">空闲</div>\n                  </div>'}),this.infoWindow.open(this.map,[t.lng,t.lat])}},mounted:function(){this._setMap(),this._getLocation(),this._getMarker()}},o={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"detection-record",attrs:{flexContainer:""}},[i("div",{staticClass:"action-bar"},[i("div",{staticClass:"go-back",on:{click:t._goBack}}),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"search"})]),t._v(" "),i("div",{ref:"container",staticClass:"container",class:t.showMap?"show":""},[i("div",{staticClass:"map-btn"},[i("div",{staticClass:"map-location",on:{click:t._getLocation}}),t._v(" "),i("div",{staticClass:"bor"}),t._v(" "),i("div",{staticClass:"map-kf"})])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"font"},[a("h2",[this._v("东风本田-思域")]),this._v(" "),a("p",[a("span",[this._v("苏DB5A68")]),a("span",[this._v("丨")]),a("span",[this._v("2300km")])])])}]};var r=i("Z0/y")(s,o,!1,function(t){i("77zG"),i("LkVm")},"data-v-46a27f88",null);a.default=r.exports}});
//# sourceMappingURL=16.74b4c0e3190dd404bcc7.js.map