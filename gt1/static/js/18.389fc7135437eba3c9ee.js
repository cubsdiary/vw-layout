webpackJsonp([18],{Ok8H:function(i,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o={name:"my-info-mask",props:{id:{type:Number,default:0},info:{type:String}},data:function(){return{modifyinfo:""}},computed:{showClear:function(){return 0===this.modifyinfo.length?0:1},showTips:function(){var i="";switch(this.id){case 1:i="请输入昵称  不得含有特殊符号";break;case 2:i="请输入手机号";break;case 3:i="请输入真实姓名"}return i}},mounted:function(){this.modifyinfo=this.info},methods:{_goBack:function(){this.$emit("closemask",{modify:!1})},_clearInput:function(){this.modifyinfo=""},_inputValue:function(i){if(null===i.data&&this.modifyinfo.length>0)return this.modifyinfo.length-1},_modifySuccess:function(){""!==this.modifyinfo||1!==this.id&&3!==this.id?2!==this.id||/^((13[0-9])|(14[5|7])|(15([0-3]|[5-9]))|(17([0-1,3]|[6-8]))|(18[0-9]))\d{8}$/.test(this.modifyinfo)?this.$emit("closemask",{modify:!0,info:this.modifyinfo}):this.$Toast({message:"手机号码格式错误！",position:"top"}):this.$Toast({message:"信息不能为空！",position:"top"})}}},s={render:function(){var i=this,n=i.$createElement,t=i._self._c||n;return t("transition",{attrs:{name:"showinfo"}},[t("div",{staticClass:"my-info-mask",on:{click:i._goBack}},[t("div",{staticClass:"mask-con",on:{click:function(i){i.preventDefault(),i.stopPropagation()}}},[t("div",{staticClass:"text"},[t("input",{directives:[{name:"model",rawName:"v-model",value:i.modifyinfo,expression:"modifyinfo"}],attrs:{type:"text",name:"",placeholder:"请输入信息"},domProps:{value:i.modifyinfo},on:{input:[function(n){n.target.composing||(i.modifyinfo=n.target.value)},i._inputValue]}}),i._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:i.showClear,expression:"showClear"}],staticClass:"clear",on:{click:i._clearInput}})]),i._v(" "),t("p",{staticClass:"tips"},[i._v("\n        "+i._s(i.showTips)+"\n      ")])]),i._v(" "),t("div",{staticClass:"submit-btn",on:{click:function(n){return n.preventDefault(),n.stopPropagation(),i._modifySuccess(n)}}},[i._v("确认")])])])},staticRenderFns:[]};var a={name:"myInfo",data:function(){return{modifyInfo:!1,info:{name:"朱佩琪",nickname:"朕最爱朱佩琪",phone:"18772815385"},id:0,localId:""}},computed:{hidePhone:function(){return this.info.phone.substr(0,3)+"****"+this.info.phone.substr(7)},modifyType:function(){var i="";switch(this.id){case 1:i=this.info.nickname;break;case 2:i=this.info.phone;break;case 3:i=this.info.name}return i}},methods:{_goBack:function(){this.$router.go(-1)},_modifyInfo:function(i){this.id=i,this.modifyInfo=!0},_closeMask:function(i){if(this.modifyInfo=!1,i.modify)switch(this.id){case 1:this.info.nickname=i.info;break;case 2:this.info.phone=i.info;break;case 3:this.info.name=i.info}},toggleAvatar:function(){var i=this;this.Wx.chooseImage({success:function(n){i.localId=n.localIds[0],window.__wxjs_is_wkwebview?i.Wx.getLocalImgData({localId:i.localId,success:function(n){var t=n.localData;i.localId=t.replace("jgp","jpeg")},fail:function(i){}}):i.localId=n.localIds[0]}})}},components:{myInfoMask:t("Z0/y")(o,s,!1,function(i){t("rRX/")},"data-v-cbed6106",null).exports}},e={render:function(){var i=this,n=i.$createElement,t=i._self._c||n;return t("div",{staticClass:"my-info",attrs:{flexContainer:""}},[i.modifyInfo?t("myInfoMask",{attrs:{id:i.id,info:i.modifyType},on:{closemask:i._closeMask}}):i._e(),i._v(" "),t("div",{staticClass:"action-bar"},[t("div",{staticClass:"go-back",on:{click:i._goBack}}),i._v(" "),t("div",{staticClass:"font"},[i._v("个人资料")])]),i._v(" "),t("div",{staticClass:"container"},[t("div",{staticClass:"my_avatar"},[t("div",{staticClass:"avatar"},[t("img",{attrs:{src:""===i.localId?"../../common/imgs/default.png":i.localId,alt:""}})]),i._v(" "),t("div",{staticClass:"title",on:{click:i.toggleAvatar}},[i._v("\n        更换头像\n      ")])]),i._v(" "),t("div",{staticClass:"my_nickname"},[t("span",[i._v("昵称")]),i._v(" "),t("div",{staticClass:"nickname",on:{click:function(n){i._modifyInfo(1)}}},[i._v("\n        "+i._s(i.info.nickname)+"\n      ")])]),i._v(" "),t("div",{staticClass:"my_phone",on:{click:function(n){i._modifyInfo(2)}}},[t("span",[i._v("手机号")]),i._v(" "),t("div",{staticClass:"phone"},[i._v("\n        "+i._s(i.hidePhone)+"\n      ")])]),i._v(" "),t("div",{staticClass:"my_name",on:{click:function(n){i._modifyInfo(3)}}},[t("span",[i._v("真实姓名")]),i._v(" "),t("div",{staticClass:"name"},[i._v("\n        "+i._s(i.info.name)+"\n      ")])])])],1)},staticRenderFns:[]};var c=t("Z0/y")(a,e,!1,function(i){t("urCg")},"data-v-127e59e6",null);n.default=c.exports},"rRX/":function(i,n){},urCg:function(i,n){}});
//# sourceMappingURL=18.389fc7135437eba3c9ee.js.map