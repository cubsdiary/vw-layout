webpackJsonp([5],{"+Rfk":function(t,e,a){"use strict";var s={name:"checkInfo",props:{data:{type:Object,required:!0}},methods:{_closeMask:function(){this.$emit("closemask",!1)},showImgs:function(t){this.Wx.previewImage({current:t,urls:this.data.imgs})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"slide"}},[a("div",{staticClass:"check-info-mask"},[a("div",{staticClass:"mask-con"},[a("h2",{staticClass:"title"},[a("span",{class:1===t.data.state?"wran":"err"},[t._v(t._s(t.data.title))])]),t._v(" "),a("div",{staticClass:"content"},[a("p",[t._v(t._s(t.data.textarea))])]),t._v(" "),a("ul",{staticClass:"imgs"},t._l(t.data.imgs,function(e,s){return a("li",{key:s},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e,expression:"item"}],attrs:{alt:""},on:{click:function(a){t.showImgs(e)}}})])})),t._v(" "),a("div",{staticClass:"close-btn",on:{click:t._closeMask}},[t._v("\n        知道了\n      ")])])])])},staticRenderFns:[]};var i=a("VU/8")(s,n,!1,function(t){a("UNTG")},"data-v-1f220f76",null);e.a=i.exports},"3DVd":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),n=a.n(s),i=a("qwAB"),r=a("NBd7"),c=a.n(r),o={name:"uploadPic",data:function(){return{imgArr:[]}},computed:{boxArr:function(){if(this.imgArr.length>3){for(var t=[],e=0;e<8-this.imgArr.length-1;e++)t.push({value:"a_1",id:this.imgArr.length+e});return t}for(var a=[],s=0;s<4-this.imgArr.length-1;s++)a.push({value:"a_1",id:this.imgArr.length+s});return a}},methods:{seleRepairImgs:function(){var t=this;c.a.chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:function(e){var a=e.localIds[0];window.__wxjs_is_wkwebview?c.a.getLocalImgData({localId:a,success:function(e){var a=e.localData;t.imgArr.push(a.replace("jgp","jpeg"))},fail:function(t){}}):t.imgArr.push(a)}})},deleteImg:function(t){var e=[];this.imgArr.forEach(function(a,s){t!==s&&e.push(a)}),this.imgArr=e}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-pic"},[a("div",{staticClass:"con"},[a("ul",[t._l(t.imgArr,function(e,s){return a("li",{key:s,staticClass:"imgs"},[a("img",{attrs:{src:e,alt:""}}),t._v(" "),a("i",{on:{click:function(e){t.deleteImg(s)}}})])}),t._v(" "),8!==t.imgArr.length?a("li",{staticClass:"list-btn",on:{click:t.seleRepairImgs}}):t._e(),t._v(" "),t._l(t.boxArr,function(t){return a("li",{key:t.id,staticClass:"box"})})],2)])])},staticRenderFns:[]};var u=a("VU/8")(o,l,!1,function(t){a("DkYs")},"data-v-75043ad0",null).exports,f=a("l99u"),d=a("+Rfk"),v=a("NYxO"),_={name:"repair",data:function(){return{clientHeight:null,wxInfo:null,faultText:"",faultInfo:{},showInfo:!1}},computed:n()({},Object(v.c)(["detectionMenus","myCar","defaultCar"])),methods:n()({_goBack:function(){this.$router.go(-1)},focusText:function(){var t=this;setTimeout(function(){var e=t.$refs.chatpannel;e.scrollIntoView(!0),e.scrollIntoViewIfNeeded(!0)},200)},goNext:function(){this.$router.push("/repair-pre-order"),this.setRepairOrder({faultText:this.faultText,faultImgs:this.$refs.upImage.imgArr})},_goDetectionMenu:function(){this.$router.push("/check-list?id=0&carid=0")},_closeMask:function(){this.showInfo=!1},checkDetectionInfo:function(t){this.showInfo=!0,this.faultInfo=t}},Object(v.d)({setRepairOrder:"SET_REPAIR_ORDER"})),mounted:function(){this.$nextTick(function(){this.clientHeight=document.body.offsetHeight})},components:{uploadPic:u,seleDetectionMenu:f.a,Scroll:i.a,CheckMask:d.a}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"repair",style:{height:t.clientHeight+"px"},attrs:{flexContainer:""},on:{touch:function(t){t.preventDefault()}}},[t.showInfo?a("CheckMask",{attrs:{data:t.faultInfo},on:{closemask:t._closeMask}}):t._e(),t._v(" "),a("div",{staticClass:"action-bar"},[a("div",{staticClass:"go-back",on:{click:t._goBack}}),t._v(" "),a("div",{staticClass:"font"},[a("h2",[t._v(t._s(t.defaultCar.year+" - "+t.defaultCar.transmissionDesc))]),t._v(" "),a("p",[a("span",[t._v(t._s(t.defaultCar.carNumber))]),a("span",[t._v("丨")]),a("span",[t._v(t._s(t.defaultCar.distance)+"km")])])])]),t._v(" "),t._m(0),t._v(" "),a("Scroll",{ref:"repair",staticClass:"container",attrs:{preventDefault:!1}},[a("div",{staticClass:"wrapper"},[a("div",{ref:"chatpannel",staticClass:"textarea",attrs:{flexContainer:""},on:{touch:function(t){t.stopPropagation()}}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.faultText,expression:"faultText"}],staticClass:"text",attrs:{name:"name",rows:"5",placeholder:"简单概述您的车辆故障，提供图片能帮助维修中心为您 提前进货哦"},domProps:{value:t.faultText},on:{focus:t.focusText,input:function(e){e.target.composing||(t.faultText=e.target.value)}}})]),t._v(" "),a("uploadPic",{ref:"upImage"}),t._v(" "),a("div",{staticClass:"detection-record"},[a("span",[t._v("车辆检查故障")]),t._v(" "),a("div",{staticClass:"order",on:{click:t._goDetectionMenu}},[a("span",[t._v("查看检测单")])])]),t._v(" "),a("seleDetectionMenu",{attrs:{check:!1,data:t.detectionMenus[0].faultGroupItem},on:{showinfo:t.checkDetectionInfo}})],1)]),t._v(" "),a("div",{staticClass:"go-next",on:{click:t.goNext}},[t._v("\n    下一步\n  ")])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"service-flow"},[a("span",{staticClass:"bg bg1"},[t._v("选择服务")]),t._v(" "),a("span",[t._v("-")]),t._v(" "),a("span",{staticClass:"bg bg2"},[t._v("选择门店")]),t._v(" "),a("span",[t._v("-")]),t._v(" "),a("span",{staticClass:"bg bg3"},[t._v("确认订单")]),t._v(" "),a("span",[t._v("-")]),t._v(" "),a("span",{staticClass:"bg bg4"},[t._v("到店服务")])])}]};var m=a("VU/8")(_,h,!1,function(t){a("JobT")},"data-v-dacd3296",null);e.default=m.exports},DkYs:function(t,e){},JobT:function(t,e){},UNTG:function(t,e){}});